import java.io.IOException;
import java.net.*;

public class ConnectionToClient implements Runnable
{
    ClientTalker clientTalker;
    String str;

    ConnectionToClient(Socket normalSocket, String id) throws IOException
    {
        clientTalker = new ClientTalker( id,normalSocket);              
        new Thread(this).start();                                        // start a new thread
    }

    @Override
    public void run() 
    {
        FileProcessor fileProcessor;
        try 
        {
            fileProcessor = new FileProcessor(clientTalker);          //processes the file's on a new thread
            clientTalker.sendMessage("Im done!");            //once all files are processed, tell the server your done!
        } catch (IOException e) 
        { 
            e.printStackTrace();
        }                  
    }
     
}
 
